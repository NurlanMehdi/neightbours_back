# üö® API Testing Issue - Production vs Local Environment

## üîç **–ü—Ä–æ–±–ª–µ–º–∞:**
–í—ã —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç–µ **–ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä** (`https://api.mestniye.ru`), –Ω–æ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ **–ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**.

## üìä **–°–∏—Ç—É–∞—Ü–∏—è:**
- ‚úÖ **–õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ID 3 –∏–º–µ–µ—Ç 4 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- ‚ùå **–ü—Ä–æ–¥–∞–∫—à–Ω –ë–î**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ID 3 –º–æ–∂–µ—Ç –Ω–µ –∏–º–µ—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π
- ‚è∞ **JWT —Ç–æ–∫–µ–Ω**: –ò—Å—Ç–µ–∫ (exp: 1754777135 = 09.08.2025 00:12)

## üõ†Ô∏è **–†–µ—à–µ–Ω–∏—è:**

### **–í–∞—Ä–∏–∞–Ω—Ç 1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ**

#### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:
```bash
cd /Users/nurlanguleliyev/Documents/Sites/neighbours_back
npm run dev
```

#### 2. –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ID 3:
```bash
# –ï—Å–ª–∏ –µ—Å—Ç—å –∞–¥–º–∏–Ω—Å–∫–∏–π –¥–æ—Å—Ç—É–ø –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î, —Å–æ–∑–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 3
# –ò–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ SMS —Å –Ω–æ–º–µ—Ä–æ–º 79097844502
```

#### 3. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ:
```bash
curl -X 'GET' \
  'http://localhost:3000/api/users/verifications?page=1&limit=20&isVerified=true' \
  -H 'accept: application/json' \
  -H 'Authorization: Bearer NEW_LOCAL_TOKEN'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "data": [
    {
      "id": 1,
      "name": "–ó–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ 15 —Å–æ—Ç–æ–∫",
      "category": "LAND",
      "verificationStatus": "VERIFIED"
    },
    {
      "id": 2,
      "name": "–ß–∞—Å—Ç–Ω—ã–π –¥–æ–º –Ω–∞ –†—É–±–ª–µ–≤–∫–µ",
      "category": "PRIVATE_HOUSE", 
      "verificationStatus": "VERIFIED"
    },
    {
      "id": 3,
      "name": "–¢–∞—É–Ω—Ö–∞—É—Å –≤ –ñ—É–∫–æ–≤–∫–µ",
      "category": "TOWNHOUSE",
      "verificationStatus": "VERIFIED"
    }
  ],
  "total": 3,
  "page": 1,
  "limit": 20,
  "totalPages": 1
}
```

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –î–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä**

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–¥–∞–∫—à–Ω, –¥–æ–±–∞–≤—å—Ç–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ID 3 –≤ –ø—Ä–æ–¥–∞–∫—à–Ω –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

### **–í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –∏–º–µ–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–Ω –±–∞–∑–µ.

## üîß **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ:**

–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–∞:

```javascript
const jwt = require('jsonwebtoken');

const payload = {
  sub: 3,
  role: 'ADMIN', 
  phone: '77777777777',
  type: 'access',
  iat: Math.floor(Date.now() / 1000),
  exp: Math.floor(Date.now() / 1000) + (12 * 60 * 60) // 12 hours
};

const token = jwt.sign(payload, 'YOUR_JWT_SECRET');
console.log('New token:', token);
```

## üìù **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä**
2. **–ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω**
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ API –ª–æ–∫–∞–ª—å–Ω–æ**
4. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
5. **–ó–∞—Ç–µ–º —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ**

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ, API –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 3 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ID 3.