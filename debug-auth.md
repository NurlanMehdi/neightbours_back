# üêõ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å API /api/users/verifications

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **4 —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** —Å–æ–∑–¥–∞–Ω—ã —É—Å–ø–µ—à–Ω–æ (ID: 4, 5, 6, 7)
- **6 –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏** —Å–æ–∑–¥–∞–Ω—ã
- **12 –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–π** —Å–æ–∑–¥–∞–Ω—ã
- **–ü—Ä—è–º—ã–µ Prisma –∑–∞–ø—Ä–æ—Å—ã** –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### ‚ùå API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```json
{
  "data": [],
  "total": 0,
  "page": 1,
  "limit": 50,
  "totalPages": 0
}
```

## üîç –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### 1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π User ID –≤ JWT —Ç–æ–∫–µ–Ω–µ**
–°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –≤—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –∫–æ—Ç–æ—Ä—ã–π **–ù–ï** —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (ID: 4, 5, 6, 7).

### 2. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º User ID –∏–∑ —Ç–æ–∫–µ–Ω–∞**
–í–æ–∑–º–æ–∂–Ω–∞ –æ—à–∏–±–∫–∞ –≤ JWT —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏–ª–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–µ `@UserId()`.

## üõ†Ô∏è –†–µ—à–µ–Ω–∏—è

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø–æ–¥ –∫–∞–∫–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã

–î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å User ID:

```typescript
@Get('verifications')
async getUserVerifications(
  @UserId() userId: number,
  @Query() filters: GetUserVerificationsDto,
): Promise<UserVerificationsPaginatedDto> {
  console.log('üîç Current User ID:', userId); // –î–æ–±–∞–≤–∏—Ç—å —ç—Ç—É —Å—Ç—Ä–æ–∫—É
  return this.userService.getUserVerifications(userId, filters);
}
```

### 2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –ø–æ–¥ –æ–¥–Ω–∏–º –∏–∑ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**
- **–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤**: `+79001234567` (ID: 4) - –∏–º–µ–µ—Ç 3 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- **–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–∞**: `+79001234568` (ID: 5) - –∏–º–µ–µ—Ç 3 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è  
- **–ê–ª–µ–∫—Å–µ–π –°–∏–¥–æ—Ä–æ–≤**: `+79001234569` (ID: 6) - –∏–º–µ–µ—Ç 3 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- **–ï–ª–µ–Ω–∞ –ö–æ–∑–ª–æ–≤–∞**: `+79001234570` (ID: 7) - –∏–º–µ–µ—Ç 3 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

### 3. –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π JWT —Ç–æ–∫–µ–Ω

```bash
# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–∞ –æ–¥–∏–Ω –∏–∑ —Ç–µ—Å—Ç–æ–≤—ã—Ö)
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"phone": "+79001234567"}'

# –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ SMS –∫–æ–¥–∞ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∫–æ–¥)
curl -X POST http://localhost:3000/api/auth/verify-sms \
  -H "Content-Type: application/json" \
  -d '{"phone": "+79001234567", "code": "SMS_CODE"}'
```

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π JWT —Ç–æ–∫–µ–Ω
curl -H "Authorization: Bearer YOUR_REAL_JWT_TOKEN" \
     "http://localhost:3000/api/users/verifications?page=1&limit=10"
```

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–¥ –ª—é–±—ã–º –∏–∑ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–π –æ—Ç–≤–µ—Ç:

```json
{
  "data": [
    {
      "id": 3,
      "name": "–¢–∞—É–Ω—Ö–∞—É—Å –≤ –ñ—É–∫–æ–≤–∫–µ",
      "category": "TOWNHOUSE",
      "latitude": 55.7658,
      "longitude": 37.6276,
      "photo": "/uploads/townhouse1.jpg",
      "verificationStatus": "VERIFIED",
      "verificationCount": 3,
      "verifiedUserIds": [4, 6, 7],
      "createdById": 5,
      "createdBy": "–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–∞",
      "createdAt": "2025-01-08T...",
      "updatedAt": "2025-01-08T...",
      "verifiedAt": "2025-07-27T..."
    },
    // ... –¥—Ä—É–≥–∏–µ –æ–±—ä–µ–∫—Ç—ã
  ],
  "total": 3,
  "page": 1,
  "limit": 10,
  "totalPages": 1
}
```

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ User ID** - –¥–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
2. **–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –∑–∞–Ω–æ–≤–æ** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ —Ç–µ—Å—Ç–æ–≤—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ JWT —Ç–æ–∫–µ–Ω** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ API** - –¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è, –ø—Ä–∏—à–ª–∏—Ç–µ:
- User ID –∏–∑ –ª–æ–≥–æ–≤
- JWT —Ç–æ–∫–µ–Ω (–º–æ–∂–Ω–æ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ jwt.io)
- –ü–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç API —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏